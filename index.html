<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="Zhang Shenbei personal page: art & design, photography, contact information." />
  <title>Zhang Shenbei</title>
  <link rel="stylesheet" href="assets/css/style.css" />
</head>
<body>
  <div id="top-group">
    <div id="avatar-wrap" title="Retract and scroll to top" onclick="goTopAndRetract()">
      <img id="avatar" src="assets/img/avatar.png" alt="Profile avatar" decoding="async" loading="eager" />
    </div>
    <nav aria-label="Primary">
      <a href="#about">About</a>
      <a href="#work">Works</a>
      <a href="#contact">Contact</a>
    </nav>
  </div>

  <header data-bg="#62b7e6">
    <h1 class="fade-in">
      Hello, I am Zhang Shenbei<br />Welcome to My Page!
    </h1>
  </header>

  <main>
    <section id="about" data-bg="#ffb2a4">
      <h2 class="section-title fade-in">About Me</h2>
      <p class="fade-in">A man is mysterious, nothing has been written yet.</p>
      <div class="eyes-wrapper fade-in-eyes" aria-hidden="true">
        <svg id="eyes-svg" viewBox="0 0 1386.62 153.22" xmlns="http://www.w3.org/2000/svg">
        <path d="M1386.28,108.41l.34,1.67c-16.36,1.97-32.87.81-49.14-1.33-34.24,16.23-73.39,21.46-110.9,25.3-33.38,3.41-68.98,5.41-102.52,4.38-42.62-1.32-81.49-10.54-124.32-4.76l-.3-2.18c1.72-.23,3.22-.53,3.32-.99-6.36-7.47-11.88-15.61-14.18-25.31-.71-.52-4.2,3.32-4.93,4.07-4.75,4.88-11.38,11.36-16.24,17.15l-1.5-1.26c57.06-67.85,128.61-105.56,220.32-96.75,73.74,7.08,136.89,45.09,200.05,80.01ZM1322.52,109.95c2.26-.99,10.67-5.54,13.33-5.81-5.42-4.57-9.51-6.4-14.94-10.39-41.97-30.9-93.65-50.79-144.52-56.61-12.73-1.46-30.65-1.97-45.55.48-51.72,8.47-78.17,14.42-116.38,45.98-4.62,3.82-10.72,8.12-15.11,12.32-1.61,1.53-7.71,6.43-7.88,8.22,2.18,8.04,6.57,16.32,12.83,22,2.43,2.21,2.3,2.94,5.84,2.29,22.86-4.2,50.27.38,73.02,2.54,26.98,2.56,55.79,2.16,82.85,1.84,13.76-.17,30.34-.88,43.94-2.04,39.82-3.37,75.96-4.82,112.57-20.82Z"/>
        <path d="M1384.74,70.84l.79,2.75c-.78.15-1.34-.13-2.03-.42-4.21-1.79-12.01-7.94-16.56-10.69-78.97-47.77-157.6-71.91-250.78-53.98-42.21,8.12-79.85,24.57-110.05,52.2l-1.79-1.99c.2-.21.41-.43.61-.64,53.75-56.9,157.01-66.75,231.86-51.85,53.31,10.62,102.66,35.49,147.95,64.62Z"/>
        <path d="M1352.68,121.09c2.15-.56,3.32.27,2.79,2.55-13.89,6.65-28.99,11.81-44.09,15.04-36.56,7.83-76.78,9.05-114.26,10.05-47.14,1.25-94.03,1.51-140.61-6.56-6.09-1.06-17.97-2.63-23.34-4.46-3.45-1.17-3.06-4.09-.26-4.02,3.81.09,9.84,2.19,13.9,2.92,66.42,12.05,132.22,10.67,199.41,6.16,36.73-2.47,72.73-5.76,106.46-21.68Z"/>
        <path id="right-eye-shape" class="cls-2" d="M1335.85,104.14c-2.66.27-11.07,4.82-13.33,5.81-36.61,16-72.75,17.45-112.57,20.82-13.6,1.16-30.18,1.87-43.94,2.04-27.06.32-55.87.72-82.85-1.84-22.75-2.16-50.16-6.74-73.02-2.54-3.54.65-3.41-.08-5.84-2.29-6.26-5.68-10.65-13.96-12.83-22,.17-1.79,6.27-6.69,7.88-8.22,4.39-4.2,10.49-8.5,15.11-12.32,38.21-31.56,64.66-37.51,116.38-45.98,14.9-2.45,32.82-1.94,45.55-.48,50.87,5.82,102.55,25.71,144.52,56.61,5.43,3.99,9.52,5.82,14.94,10.39Z"/>
        <path d="M1004.32,58.71l1.79,1.99s-.07.07-.11.1c-8.61,7.89-33.64,39.26-37.61,47.14-.27.54-1.82,3.72-2.45,3.52-.68-.23-.36-3.46,2.03-8.04,5.58-10.73,10.39-16.45,11.14-17.35,12.36-14.93,18.91-20.76,25.21-27.36Z"/>
        <path class="cls-1" d="M1002.76,130.5c-.1.46-1.6.76-3.32.99-1.95.25-4.19.39-4.99.53-3.76.64-7.6,1.46-11.33,2.29-4.71,1.05-13.02,3.03-17.08,3.29-5.48.36-3.82-4.34-1.67-7.32.89-1.23,1.92-2.53,3.04-3.87,4.86-5.79,11.49-12.27,16.24-17.15.73-.75,4.22-4.59,4.93-4.07,2.3,9.7,7.82,17.84,14.18,25.31Z"/>
        <path d="M999.44,131.49l.3,2.18c-1.06.14-2.12.29-3.18.45-9.67,1.47-12.8,2.96-18.31,4.11l-11.73,2.77c-3.1.46-8.98.26-11.06-1.42-.82-2.67,6.19-9.28,6.19-9.28,1.41-1.74,2.83-3.45,4.26-5.15l1.5,1.26c-1.12,1.34-2.15,2.64-3.04,3.87-2.15,2.98-3.81,7.68,1.67,7.32,4.06-.26,12.37-2.24,17.08-3.29,3.73-.83,7.57-1.65,11.33-2.29.8-.14,3.04-.28,4.99-.53Z"/>
        <path d="M437.31,142.06c.35,3.63-2.66,7.08-6.26,7.32-4.5.29-18.62-4.59-24.24-5.77-53.96-11.38-108.16-3.19-162.75-2.41-64.54.91-135.68,4.77-194.17-25.59-16.51,1.21-33.51,2.16-49.85-.58-.28-1.59.87-2.37,2-3.17C87.11,64.83,175.35,12.38,277.15,31.85c43.83,8.38,77.82,29.58,110.88,58.36,11.83,10.3,23.8,21.85,34.6,33.25,3.28,3.46,14.28,14.6,14.68,18.6ZM429.51,144.94c3.21.18,4.57-1.75,2.93-4.61-1.85-3.24-5.53-5.96-8.01-8.6-4.12-4.42-8.36-8.73-12.5-13.11-.76-.81-3.43-4.24-4.63-3.31-.59.47-2.28,5.02-2.94,6.27-2.97,5.61-6.9,10.88-11.73,14.96.36.62.82.61,1.38.79,4.38,1.43,11.7,1.95,16.61,3.02,5.12,1.12,14.38,4.34,18.89,4.59ZM395.08,129.2c2.64-3.14,9.39-12.06,9.15-15.84-.16-2.41-8.21-8.62-10.3-10.62-19.45-18.57-41.86-33.62-66.28-45.2-39.45-18.71-84.89-24.74-127.18-15.98-3.56.74-18.5,4.22-22.04,5.17-5.73,1.11-13.6,4.55-19.16,6.51-29.77,10.5-59.26,24.16-85.59,41.95-2.87,1.93-20.1,14.14-19.73,16.35,1.49,2.5,32.28,13.08,34.65,13.82,36.21,11.26,87.94,10.96,141.44,10.68,24.32-.12,47.27-.69,71.62-2.28,26.6-1.74,40.12-2.11,67.43-.22,2.25.15,15.46,2.2,17.72,1.71,1.44-.31,7.03-4.58,8.27-6.05Z"/>
        <path class="cls-1" d="M432.44,140.33c1.64,2.86.28,4.79-2.93,4.61-4.51-.25-13.77-3.47-18.89-4.59-4.91-1.07-12.23-1.59-16.61-3.02-.56-.18-1.02-.17-1.38-.79,4.83-4.08,8.76-9.35,11.73-14.96.66-1.25,2.35-5.8,2.94-6.27,1.2-.93,3.87,2.5,4.63,3.31,4.14,4.38,8.38,8.69,12.5,13.11,2.48,2.64,6.16,5.36,8.01,8.6Z"/>
        <path id="left-eye-shape" class="cls-2" d="M404.23,113.36c.24,3.78-6.51,12.7-9.15,15.84-1.24,1.47-6.83,5.74-8.27,6.05-2.26.49-15.47-1.56-17.72-1.71-27.31-1.89-40.83-1.52-67.43.22-24.35,1.59-47.3,2.16-71.62,2.28-53.5.28-105.23.58-141.44-10.68-2.37-.74-33.16-11.32-34.65-13.82-.37-2.21,16.86-14.42,19.73-16.35,26.33-17.79,55.82-31.45,85.59-41.95,5.56-1.96,13.43-5.4,19.16-6.51,3.54-.95,18.48-4.43,22.04-5.17,42.29-8.76,87.73-2.73,127.18,15.98,24.42,11.58,46.83,26.63,66.28,45.2,2.09,2,10.14,8.21,10.3,10.62Z"/>
        <path d="M360.92,139.07c1.13,2.29.88,3.83-1.87,4.25-6.1.93-12.8,1.06-18.98,1.73-44.64,4.83-89.84,5.92-134.72,7.04-52.21,1.3-108,5.02-157.15-15.18-3.09-1.27-12.4-4.94-14.52-6.6-1.09-.85-1.09-2.95.31-3.49,2.29-.89,8.91,3.55,11.48,4.65,45.1,19.27,89.37,18.49,137.52,17.35,32.99-.78,66.17-2.05,99.19-3.31,26.38-.29,52.56-3.55,78.74-6.44Z"/>
        <mask id="left-eye-mask">
          <use href="#left-eye-shape" fill="white" />
        </mask>
        <mask id="right-eye-mask">
          <use href="#right-eye-shape" fill="white" />
        </mask>
        <g mask="url(#left-eye-mask)">
          <circle id="ring-left" cx="400" cy="87" r="60" fill="#1B140F" />
          <circle id="pupil-left" cx="400" cy="87" r="34" fill="#000" />
        </g>
        <g mask="url(#right-eye-mask)">
          <circle id="ring-right" cx="986" cy="87" r="60" fill="#1B140F" />
          <circle id="pupil-right" cx="986" cy="87" r="34" fill="#000" />
        </g>
        </svg>
      </div>
    </section>

    <section id="work" data-bg="#ffe066">
      <h2 class="section-title fade-in">My Works</h2>
      <div class="work-categories fade-in">
        <div class="work-category" id="work-art-design">
          <h3 class="work-subtitle">Art &amp; Design</h3>
          <div class="work-rail">
            <div class="rail-clip">
              <div class="rail-track">
                <a class="item" href="assets/img/a1.jpg" target="_blank" rel="noopener noreferrer">
                  <img src="assets/img/a1.jpg" alt="Art &amp; Design work a1" decoding="async" fetchpriority="high" loading="eager" />
                </a>
                <a class="item" href="assets/img/a2.jpg" target="_blank" rel="noopener noreferrer">
                  <img src="assets/img/a2.jpg" alt="Art &amp; Design work a2" decoding="async" loading="lazy" />
                </a>
                <a class="item" href="assets/img/a3.jpg" target="_blank" rel="noopener noreferrer">
                  <img src="assets/img/a3.jpg" alt="Art &amp; Design work a3" decoding="async" loading="lazy" />
                </a>
                <a class="item" href="assets/img/a4.jpg" target="_blank" rel="noopener noreferrer">
                  <img src="assets/img/a4.jpg" alt="Art &amp; Design work a4" decoding="async" loading="lazy" />
                </a>
                <a class="item" href="assets/img/d1.jpg" target="_blank" rel="noopener noreferrer">
                  <img src="assets/img/d1.jpg" alt="Art &amp; Design work d1" decoding="async" loading="lazy" />
                </a>
                <a class="item" href="assets/img/d2.jpg" target="_blank" rel="noopener noreferrer">
                  <img src="assets/img/d2.jpg" alt="Art &amp; Design work d2" decoding="async" loading="lazy" />
                </a>
                <a class="item" href="assets/img/d3.jpg" target="_blank" rel="noopener noreferrer">
                  <img src="assets/img/d3.jpg" alt="Art &amp; Design work d3" decoding="async" loading="lazy" />
                </a>
                <a class="item" href="assets/img/d4.jpg" target="_blank" rel="noopener noreferrer">
                  <img src="assets/img/d4.jpg" alt="Art &amp; Design work d4" decoding="async" loading="lazy" />
                </a>
              </div>
            </div>
          </div>
        </div>

        <div class="work-category" id="work-photo">
          <h3 class="work-subtitle">Photography</h3>
          <div class="work-rail">
            <div class="rail-clip">
              <div class="rail-track">
                <a class="item" href="assets/img/p1.jpg" target="_blank" rel="noopener noreferrer">
                  <img src="assets/img/p1.jpg" alt="Photography p1" decoding="async" fetchpriority="high" loading="eager" />
                </a>
                <a class="item" href="assets/img/p2.jpg" target="_blank" rel="noopener noreferrer">
                  <img src="assets/img/p2.jpg" alt="Photography p2" decoding="async" loading="lazy" />
                </a>
                <a class="item" href="assets/img/p3.jpg" target="_blank" rel="noopener noreferrer">
                  <img src="assets/img/p3.jpg" alt="Photography p3" decoding="async" loading="lazy" />
                </a>
                <a class="item" href="assets/img/p4.jpg" target="_blank" rel="noopener noreferrer">
                  <img src="assets/img/p4.jpg" alt="Photography p4" decoding="async" loading="lazy" />
                </a>
                <a class="item" href="assets/img/p5.jpg" target="_blank" rel="noopener noreferrer">
                  <img src="assets/img/p5.jpg" alt="Photography p5" decoding="async" loading="lazy" />
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="contact" data-bg="#9ad3bc">
      <h2 class="section-title fade-in">Contact</h2>
      <p class="fade-in">Email: shenbeizhang@gmail.com</p>
      <ul class="fade-in contact-list">
        <li>GitHub: <a href="https://github.com/zsbszzz" target="_blank" rel="noopener noreferrer">zsbszzz</a></li>
        <li>Instagram: <a href="https://instagram.com/zsbszzz" target="_blank" rel="noopener noreferrer">@zsbszzz</a></li>
        <li>小红书：<a href="https://www.xiaohongshu.com/user/profile/62b70da8000000001902ba2d" target="_blank" rel="noopener noreferrer">神杯神杯</a></li>
      </ul>
    </section>
  </main>

  <script>
(function(){
  'use strict';
  // Duration & config constants
  const DUR = { retract: 420, clickNav: 520, clickAvatar: 260 };
  // Mobile collapse thresholds (lowered)
  const MOBILE_THRESHOLDS = { downDy: 4, upDy: -6, minY: 30 };
  // Fade-In Intersection
  const io = new IntersectionObserver(entries => {
    for (const e of entries) {
      if (e.isIntersecting) {
        e.target.classList.add('show');
        io.unobserve(e.target);
      }
    }
  }, { threshold: 0.2 });
  document.querySelectorAll('.fade-in, .fade-in-eyes').forEach(el => io.observe(el));

  // Top Group Transform
  const root = document.documentElement;
  const topGroup = document.getElementById('top-group');
  const avatarWrap = document.getElementById('avatar-wrap');
  const avatar = document.getElementById('avatar');
  const nav = document.querySelector('nav');
  const state = { avatarShift: 0, navShift: 0, t: 0, scrollDistance: 320 };
  function edgeGap() {
    const val = getComputedStyle(root).getPropertyValue('--edge-gap');
    const n = parseFloat(val);
    return Number.isFinite(n) ? n : 24;
  }
  function computeShifts() {
    const vw = window.innerWidth;
    const gapEdge = edgeGap();
    const g = getComputedStyle(topGroup);
    const groupGap = parseFloat(g.columnGap || g.gap) || 0;
    const avatarW = avatar.getBoundingClientRect().width;
    const navW = nav.getBoundingClientRect().width;
    const groupWidth = avatarW + groupGap + navW;
    const centerLeft = vw / 2 - groupWidth / 2;
    const desiredAvatarLeft = gapEdge;
    const desiredNavLeft = vw - gapEdge - navW;
    state.avatarShift = desiredAvatarLeft - centerLeft;
    state.navShift = desiredNavLeft - (centerLeft + avatarW + groupGap);
    applyTransforms();
  }
  function applyTransforms() {
    const t = state.t;
    if (window.matchMedia('(max-width: 1360px)').matches) {
      avatarWrap.style.transform = 'translateX(0)';
      nav.style.transform = 'translateX(0)';
      return;
    }
    avatarWrap.style.transform = `translateX(${state.avatarShift * t}px)`;
    nav.style.transform = `translateX(${state.navShift * t}px)`;
  }
  let ticking = false, retractRAF = null, programmaticScroll = false;
  let navProgrammatic = false;
  function onScroll() {
    if (programmaticScroll) {
      if (window.scrollY === 0) programmaticScroll = false;
      if (!ticking) {
        requestAnimationFrame(() => {
          applyTransforms();
          updateBackgroundByScroll();
          handleMobileCollapse(window.scrollY);
          ticking = false;
        });
        ticking = true;
      }
      return;
    }
    if (!ticking) {
      requestAnimationFrame(() => {
        state.t = Math.min(Math.max(window.scrollY / state.scrollDistance, 0), 1);
        applyTransforms();
        updateBackgroundByScroll();
        handleMobileCollapse(window.scrollY);
        ticking = false;
      });
      ticking = true;
    }
  }
  function goTopAndRetract() {
    const wasAtTop = window.scrollY === 0;
    if (!wasAtTop) {
      programmaticScroll = true;
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
    avatar.classList.add('clicked');
    setTimeout(() => avatar.classList.remove('clicked'), DUR.clickAvatar);
    if (retractRAF) cancelAnimationFrame(retractRAF);
    const from = state.t;
    const to = 0;
    const duration = DUR.retract;
    const start = performance.now();
    const easeOutCubic = x => 1 - Math.pow(1 - x, 3);
    const step = now => {
      const p = Math.min(1, (now - start) / duration);
      state.t = from + (to - from) * easeOutCubic(p);
      applyTransforms();
      if (p < 1) {
        retractRAF = requestAnimationFrame(step);
      } else {
        retractRAF = null;
        if (wasAtTop) programmaticScroll = false;
      }
    };
    retractRAF = requestAnimationFrame(step);
  }
  window.goTopAndRetract = goTopAndRetract;
  document.querySelectorAll('nav a[href^="#"]').forEach(a => {
    a.addEventListener('click', e => {
      e.preventDefault();
      const target = document.querySelector(a.getAttribute('href'));
      if (target) {
        navProgrammatic = true;
        target.scrollIntoView({ behavior: 'smooth' });
        setTimeout(() => { navProgrammatic = false; }, 800);
      }
      a.classList.add('clicked');
      setTimeout(() => a.classList.remove('clicked'), DUR.clickNav);
      if (isMobileActive()) topGroup.classList.add('collapsed');
    });
  });
  const ro = new ResizeObserver(() => computeShifts()); ro.observe(nav); if (avatarWrap) ro.observe(avatarWrap);
  window.addEventListener('scroll', onScroll, { passive:true }); window.addEventListener('resize', computeShifts); window.addEventListener('orientationchange', computeShifts);
  if (document.fonts && document.fonts.ready) { document.fonts.ready.then(computeShifts); }
  window.addEventListener('load', computeShifts); computeShifts();
  if ('scrollRestoration' in history) history.scrollRestoration = 'manual';
  const resetToTop = () => {
    window.scrollTo({ top: 0, left: 0, behavior: 'auto' });
    state.t = 0;
    applyTransforms();
    updateBackgroundByScroll();
  };
  window.addEventListener('pageshow', resetToTop); window.addEventListener('load', resetToTop);

  // Mobile collapse (scroll direction) logic
  let lastY = window.scrollY;
  function isMobileActive(){ return window.matchMedia('(max-width: 1360px)').matches; }
  function handleMobileCollapse(y){
    if (!isMobileActive()) { topGroup.classList.remove('collapsed'); lastY = y; return; }
    if (navProgrammatic) { topGroup.classList.add('collapsed'); lastY = y; return; }
    const dy = y - lastY;
    const atTop = y <= 0;
    if (atTop) {
      topGroup.classList.remove('collapsed');
    } else if (dy > MOBILE_THRESHOLDS.downDy && y > MOBILE_THRESHOLDS.minY) {
      topGroup.classList.add('collapsed');
    } else if (dy < MOBILE_THRESHOLDS.upDy) {
      topGroup.classList.remove('collapsed');
    }
    lastY = y;
  }
  window.addEventListener('resize', () => { if (!isMobileActive()) topGroup.classList.remove('collapsed'); });

  (function initMarquees() {
    const rails = Array.from(document.querySelectorAll('.work-rail')); if (!rails.length) return;
    const reduce = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    const tracks = rails.map(rail => {
      const el = rail.querySelector('.rail-track');
      if (!el) return null;
      if (!el.dataset.marqueeDoubled) {
        const clones = Array.from(el.children).map(n => n.cloneNode(true));
        clones.forEach(n => el.appendChild(n));
        el.dataset.marqueeDoubled = '1';
      }
      return { rail, el, x:0, half:0, duration:20, paused:false, enabled:!reduce, speedMultiplier:1 };
    }).filter(Boolean);
    function measure() { tracks.forEach(t => { t.half = t.el.scrollWidth / 2; }); }
    measure();
    const onResize = () => measure(); window.addEventListener('resize', onResize); window.addEventListener('orientationchange', onResize);
    document.querySelectorAll('.rail-track img').forEach(img => { if (!img.complete) img.addEventListener('load', measure, { once:true }); });
    
    tracks.forEach(t => {
      t.rail.addEventListener('mouseenter', () => { t.speedMultiplier = 0.25; });
      t.rail.addEventListener('mouseleave', () => { t.speedMultiplier = 1; });
    });
    window.addEventListener('blur', () => tracks.forEach(t => t.paused = true)); window.addEventListener('focus', () => tracks.forEach(t => t.paused = false));
    if (!tracks.some(t => t.enabled)) return;
    let last = performance.now();
    function tick(now) {
      const dt = Math.min(0.05, (now - last) / 1000);
      last = now;
      for (const t of tracks) {
        if (!t.enabled || t.paused || !t.half) continue;
        const baseSpeed = t.half / t.duration;
        const speed = baseSpeed * (t.speedMultiplier || 1);
        t.x -= speed * dt;
        if (t.x <= -t.half) t.x += t.half;
        t.el.style.transform = `translate3d(${t.x}px,0,0)`;
      }
      requestAnimationFrame(tick);
    }
    requestAnimationFrame(tick);
  })();

  // Scroll-driven Background
  (function initScrollBackground() {
    const els = Array.from(document.querySelectorAll('header[data-bg], section[data-bg]')); if (!els.length) return;
    function hexToRgb(hex) {
      const s = hex.replace('#', '').trim();
      const b = s.length === 3 ? s.split('').map(ch => ch + ch).join('') : s;
      const num = parseInt(b, 16);
      return { r: (num >> 16) & 255, g: (num >> 8) & 255, b: num & 255 };
    }
    let segments = [];
    function measureSegments() {
      segments = [];
      for (let i = 0; i < els.length; i++) {
        const fromEl = els[i];
        const toEl = els[i + 1];
        const fromTop = fromEl.offsetTop;
        const end = toEl ? toEl.offsetTop : (document.documentElement.scrollHeight - window.innerHeight);
        const fromColor = hexToRgb(fromEl.dataset.bg || '#ffffff');
        const toColor = hexToRgb((toEl && toEl.dataset.bg) || fromEl.dataset.bg || '#ffffff');
        segments.push({ start: fromTop, end, fromColor, toColor });
      }
    }
    function lerp(a, b, t) { return a + (b - a) * t; }
    function lerpColor(c1, c2, t) {
      return {
        r: Math.round(lerp(c1.r, c2.r, t)),
        g: Math.round(lerp(c1.g, c2.g, t)),
        b: Math.round(lerp(c1.b, c2.b, t))
      };
    }
    window.updateBackgroundByScroll = function () {
      if (!segments.length) return;
      const y = window.scrollY;
      let seg = segments[0];
      for (let i = 0; i < segments.length; i++) {
        if (y >= segments[i].start && y < segments[i].end) { seg = segments[i]; break; }
        if (y >= segments[i].end) seg = segments[i];
      }
      const span = Math.max(1, seg.end - seg.start);
      const t = Math.min(1, Math.max(0, (y - seg.start) / span));
      const c = lerpColor(seg.fromColor, seg.toColor, t);
      document.body.style.backgroundColor = `rgb(${c.r},${c.g},${c.b})`;
    };
    const doMeasure = () => { measureSegments(); window.updateBackgroundByScroll(); };
    if (document.fonts && document.fonts.ready){ document.fonts.ready.then(doMeasure); }
    window.addEventListener('load', doMeasure); window.addEventListener('resize', doMeasure); window.addEventListener('orientationchange', doMeasure); doMeasure();
  })();

  // SVG Eyes Follow
  (function svgEyesFollow() {
    const CONFIG = { maxMoveX: 120, maxMoveY: 80, outerRadius: 80, fillRadius: 34 };
    const svg = document.getElementById('eyes-svg');
    if (!svg) return;
    const ringLeft = document.getElementById('ring-left'); const ringRight = document.getElementById('ring-right');
    const pupilLeft = document.getElementById('pupil-left'); const pupilRight = document.getElementById('pupil-right');
    
    const OFFSET = 160;
    const centerLeft = { x: 400 - OFFSET, y: 87 };
    const centerRight = { x: 986 + OFFSET, y: 87 };

    // Initialize radii
    [ringLeft, ringRight].forEach(el => el.setAttribute('r', CONFIG.outerRadius));
    [pupilLeft, pupilRight].forEach(el => el.setAttribute('r', CONFIG.fillRadius));

    function updateEyes(e) {
      const xPct = e.clientX / window.innerWidth;
      const yPct = e.clientY / window.innerHeight;
      const dx = (xPct - 0.5) * 2 * CONFIG.maxMoveX;
      const dy = (yPct - 0.5) * 2 * CONFIG.maxMoveY;

      ringLeft.setAttribute('cx', centerLeft.x + dx);
      ringLeft.setAttribute('cy', centerLeft.y + dy);
      pupilLeft.setAttribute('cx', centerLeft.x + dx);
      pupilLeft.setAttribute('cy', centerLeft.y + dy);

      ringRight.setAttribute('cx', centerRight.x + dx);
      ringRight.setAttribute('cy', centerRight.y + dy);
      pupilRight.setAttribute('cx', centerRight.x + dx);
      pupilRight.setAttribute('cy', centerRight.y + dy);
    }
    document.addEventListener('mousemove', updateEyes, { passive: true });
  })();
})();
  </script>
</body>
</html>